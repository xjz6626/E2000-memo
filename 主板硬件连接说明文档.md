# **主板硬件连接说明文档**

## **1\. 概述**

本文档旨在为用户提供清晰、准确的硬件连接指导，确保用户能够正确、安全地为指定主板连接电源、外部设备及串口调试工具。请在操作前仔细阅读本说明。

## **2\. 硬件接口总览**

### **2.1 后置I/O接口**

* **电源接口 (DC IN):** 用于连接电源适配器，为主板供电。  
* **串口 (COM):** 两个标准的DB9公头串口，用于连接外部串口设备。  
* **VGA接口:** 模拟视频输出接口，用于连接显示器。  
* **HDMI接口:** 高清多媒体接口，用于连接高清显示设备。  
* **USB 2.0/3.0接口:** 用于连接键盘、鼠标、U盘等USB外设。  
* **网口 (LAN):** RJ45以太网接口，用于连接有线网络。  
* **音频接口:** 包括音频输出（绿色）和麦克风输入（粉色）。

### **2.2 板载接口与按钮**

* **开机键:** 位于主板右上角，用于启动或关闭主板电源。  
* **J15串口排针:** 位于MicroSD卡槽旁，用于连接TTL串口调试线。

## **3\. 连接步骤**

### **3.1 电源连接与开机**

1. **连接电源适配器:** 将电源适配器的DC输出端插入主板后置I/O面板上的 **电源接口**。  
2. **启动系统:** 按下主板右上角的 **开机键**，系统将开始启动。

### **3.2 串口调试连接 (适用于开发者)**

此步骤用于底层系统调试，普通用户可跳过。

1. **识别线序:**  
   * **主板端:** 找到J15排针。  
   * **USB转TTL模块端:** 识别GND (地)、TXD (发送)、RXD (接收) 引脚。  
2. **连接线缆:**  
   * 将杜邦线的一端连接到主板的 **J15** 排针上。  
   * 将杜邦线的另一端连接到USB转TTL模块。**务必确保线序交叉连接正确**，连接方式如下：  
     * 主板的 **GND** \<--\> 模块的 **GND** (黑色线)  
     * 主板的 **TXD** \<--\> 模块的 **RXD** (红色线)  
     * 主板的 **RXD** \<--\> 模块的 **TXD** (棕色线)

**注意:** 串口通信的原理是发送端(TX)连接接收端(RX)。如果连接后无法通信，请检查接线或尝试对调模块端的TXD和RXD接线。

3. **连接至计算机并配置SecureCRT:**  
   * 将USB转TTL模块插入计算机的USB端口，系统会自动识别COM端口。  
   * 打开 **SecureCRT** 软件，创建一个新的Serial（串口）会话。  
   * 在会话设置中，**Port** 会自动识别，**Baud rate** (波特率) 设置为 **115200**，其余配置项保持默认。  
   * 连接会话后，即可开始进行串口调试。

### **3.3 通过网络共享为开发板提供网络 (Windows)**

此步骤用于将您Windows电脑的网络连接共享给开发板，使其能够访问互联网。

1. **物理连接:**  
   * 使用一根网线，将开发板的 **网口(LAN)** 与您Windows电脑的 **以太网口** 直接连接。  
   * 确保您的Windows电脑已通过其他方式（如Wi-Fi或另一个以太网口）连接到互联网。  
2. **打开网络连接设置:**  
   * 在Windows上，按下 Win \+ R 键打开“运行”对话框。  
   * 输入 ncpa.cpl 并按回车，这将打开“网络连接”窗口。  
3. **配置网络共享:**  
   * 在“网络连接”窗口中，找到您电脑用于上网的网络适配器（例如，名为“WLAN”或“Wi-Fi”的无线网络连接）。  
   * 右键单击该适配器，选择 **“属性”**。  
   * 切换到 **“共享”** 选项卡。  
   * 勾选 **“允许其他网络用户通过此计算机的Internet连接来连接”** 复选框。  
   * 在 **“家庭网络连接”** 的下拉菜单中，选择连接到开发板的那个以太网适配器（例如，名为“以太网”）。  
   * 点击 **“确定”** 保存设置。Windows会自动为连接开发板的那个以太网口配置IP地址（通常是192.168.137.1）。  
4. **配置并验证开发板网络:**  
   * 启动开发板，进入其操作系统（Ubuntu）。  
   * 将网络设置为 **自动获取IP地址 (DHCP)**。  
   * 在终端中执行以下命令查看获取到的IP地址：  
     ip a

     在返回的信息中，您应该能看到一个形如 192.168.137.x 的IP地址。  
   * 执行以下命令测试网络是否可用：  
     ping baidu.com

     如果看到有连续的数据返回，说明开发板已成功通过您的电脑连接到互联网。

### **3.4 使用 VS Code 通过 SSH 远程开发**

此步骤让您可以在熟悉的 VS Code 环境中直接对开发板上的文件进行编辑、编译和调试。

1. **确认开发板 SSH 服务状态:**  
   * 首先需要确保开发板已连接到网络（参考 3.3 节）。  
   * 开发板通常已预装 SSH 服务。您可以在开发板的 Ubuntu 终端中，执行以下命令来检查其运行状态：  
     sudo systemctl status ssh

   * 如果服务未运行，可以使用 sudo systemctl start ssh 命令启动它。  
2. **在 VS Code 中安装 "Remote \- SSH" 扩展:**  
   * 在您的 Windows 电脑上打开 VS Code。  
   * 点击左侧活动栏的 **扩展** 图标 (Extensions)。  
   * 在搜索框中输入 Remote \- SSH。  
   * 找到由 Microsoft 发布的官方扩展并点击 **安装 (Install)**。  
3. **配置 SSH 连接:**  
   * 安装扩展后，左侧活动栏会出现一个新的 **远程资源管理器** 图标 (Remote Explorer)。点击它。  
   * 在下拉菜单中确保选中了 "SSH"。  
   * 点击 "SSH" 标题栏旁边的 **“+”** 加号图标（新建远程连接）。  
   * 在弹出的输入框中，输入连接命令，格式为 ssh username@ip\_address。  
     * username 是您在开发板 Ubuntu 系统上的用户名。  
     * ip\_address 是您在上一步中通过 ip a 命令获取到的 IP 地址 (例如 192.168.137.58)。  
     * 示例: ssh myuser@192.168.137.58  
   * 按回车后，选择第一个推荐的 SSH 配置文件进行保存。  
4. **连接到开发板:**  
   * 配置完成后，您将在远程资源管理器的列表中看到新添加的开发板主机。  
   * 将鼠标悬停在该主机上，然后点击右侧出现的 **连接到主机** 图标（一个文件夹带一个加号的图标）。  
   * VS Code 将打开一个新窗口并尝试连接。首次连接时会询问目标系统的平台类型，选择 **Linux**。  
   * 在弹出的输入框中，输入您在开发板上的用户密码。  
   * 连接成功后，VS Code 左下角会显示 SSH: \[ip\_address\]，表示您已成功连接。  
5. **开始开发:**  
   * 连接成功后，点击 **文件 (File) \> 打开文件夹 (Open Folder...)**，您可以直接浏览并打开开发板上的任意项目文件夹，像在本地一样进行开发了。

## **4\. 常用命令**

### **4.1 关机**

在终端中执行以下命令可以安全地关闭系统：

poweroff

### **4.2 重启**

在终端中执行以下命令可以重启系统：

reboot

## **5\. 注意事项**

1. **环境隔离:** 尽量在 Docker 容器下使用项目指定的软件版本进行开发和测试，以避免环境污染和版本冲突。  
2. **安全操作:** 切勿在 root 用户下运行来源不明的脚本或程序，以防系统被恶意破坏或数据泄露。